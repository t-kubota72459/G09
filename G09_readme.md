### **授業計画（全16回）**

#### **1～3回: 基礎理解と準備**
1. **オリエンテーションと基礎知識**
   - コースの目的と概要
   - PLCとマイコンの違い、ESP32基板の特徴
   - OpenPLCの基本操作とプログラミング環境の設定
   - 初期プロジェクト: LEDの点滅制御（PLCとマイコンで実装）

2. **空気圧制御とピックアンドプレースの復習**
   - 空気圧機構とセンサーの動作原理
   - 1年次のピックアンドプレース設計の復習
   - PLCでの制御構成図を再確認

3. **マイコン基礎プログラミング**
   - ESP32の基本プログラミング
   - デジタル入出力制御（スイッチ、リレー、LED）
   - PWM信号とアクチュエータ制御の基礎

#### **4～6回: 基板の活用とI/O制御**
4. **CQ出版ESP32 PLC基板の使い方**
   - 基板の構造と入出力ポート
   - OpenPLCでのプログラムアップロード

5. **センサー信号の取得**
   - 圧力センサーやリミットスイッチの接続とデータ取得
   - センサー信号を用いた簡易フロー制御

6. **アクチュエータ制御**
   - ソレノイドバルブ制御
   - 空気圧駆動ピストンのオンオフ制御
   - 安全停止機能の追加

#### **7～9回: ピックアンドプレース制御の実装**
7. **制御フローの設計**
   - ピックアンドプレースの動作手順の分解
   - フローチャート作成とOpenPLCのプログラム構築

8. **マイコンでの基礎動作実装**
   - ピックとプレースの基本動作（1ステーション）
   - センサー信号に基づくタイミング制御

9. **複数ステーションの制御**
   - 動作の同期と並列制御
   - シーケンス動作の最適化

#### **10～12回: Modbus通信の基礎**
10. **Modbusプロトコルの基礎**
    - Modbusの概要と用途（RTU vs TCPの違い）
    - マスター/スレーブの概念と役割
    - ESP32でのModbus通信環境構築（Modbusライブラリのインストールと基本設定）

11. **データ送受信の実践**
    - Modbus経由でのセンサー値取得（例: ピック位置センサーの状態送信）
    - ソレノイドバルブ制御のコマンド受信と実行
    - シリアルモニタで通信データを確認

12. **複数デバイス間の通信**
    - 2つのピックアンドプレース装置を用意し、片方をマスター、もう片方をスレーブとして設定
    - 基本的なコマンド送信（例: 動作開始/停止）
    - システム全体の連携確認

#### **13～15回: 応用プロジェクト**
13. **連携動作フローの設計**
    - 連携の具体例を考案（例: 一方がピックした後、もう一方がプレースする）
    - Modbus通信を活用したフローチャート作成
    - グループごとに役割分担（例: マスター側、スレーブ側）

14. **Modbus連携プロジェクトの実装**
    - 各グループでコード作成と動作確認
    - タイミング調整やエラー処理の実装
    - システム全体のデバッグとテスト

15. **最終テストと調整**
    - 各グループの完成度を評価
    - Modbus通信を使ったデモ動作をシミュレート
    - 動作の改良点を検討

#### **16回: 成果発表とまとめ**
16. **最終発表と講評**
    - Modbus連携を含むシステムの動作デモンストレーション
    - プレゼン資料を用いた説明（動作フロー、課題と改善点）
    - 総括と応用可能性の議論

---

### **想定される成果**
- 学生がピックアンドプレースの独立動作だけでなく、システム間の連携による高度な制御を学べる。
- Modbusの基礎知識と実践力を身につけ、将来的な産業用ネットワークへの応用可能性を理解。
- チームでのシステム構築スキルを育成。

Modbus通信を取り入れることで、学生は単体制御からネットワーク制御へと知識を拡張でき、産業現場で役立つスキルを実践的に学べる内容になっています。