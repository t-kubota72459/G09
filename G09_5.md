# Rasberry Pi にソフトウェアをインストールする方法

- 画面左上の Raspberry Pi のマーク ⇒ 設定 ⇒ Add/Remove Software から選択

<div style="text-align: center;">
    <img src="./images/image20.png" width="50%">
</div>

ジャンルごとのソフトウェア一覧が現れるので、検索キーワードなどを入れて検索し希望のソフトウェアをインストールすることができる (はずなのだが私の環境ではうまく動かなかった)。

以下のようにコマンドラインからインストールしたほうが確実。

```
sudo apt install xgalaga
```

こうすると、左上の Raspberry Pi マーク ⇒ ゲームに xgalaga がインストールされる (こちらはうまくいった)。キーボードになれるために、こちらをオススメする。

*Ref:Linux 教科書 pp.363*

# Raspberry Pi の電源の切り方

見てのとおり、Raspberry Pi には電源スイッチがない。電源を供給している USB ケーブルを抜けばその瞬間に電源が切れる。

しかし、Raspberry Pi は高度な？コンピュータなのでそういうことをしてはいけない。次回、立ち上がらなくなるなど不具合の原因となる。

Raspberry Pi など UNIX 由来のコンピュータを電源を切れる状態にすることを **シャットダウン** という。

シャットダウンの方法は大きく 2 つある。

シャットダウンを実行すると電源を切るための終了処理がはじまる。
その間、Raspberry Pi の緑の LED が点滅するので、緑の点滅が収まってから電源ケーブルを抜く。

## GUI からシャットダウンする

- 左上の Raspberry Pi マーク ⇒ ログアウト ⇒ Shutdown を選ぶ
    - Shutdown ... 電源を切れる状態にする
    - Reboot ... 再起動する
    - Logout ... 他の人がログインできるように自分が Raspherry Pi から抜ける

ただし、この方法は GUI が忙しいときなどには動作しないときがある。
ゲームで忙しいスマホの処理がもどってこないのと同じである。

## コマンドラインからシャットダウンする

そのものズバリ shutdown というコマンドがある。黒い画面 (これを「端末」とか「ターミナル」と呼ぶ) を立ち上げ、以下のように実行する。こちらのほうが確実に動作するので、こちらをオススメする：

```
sudo shutdown -h now
```

解説：

sudo コマンドは実は第１引数以降にある命令を管理者権限で実行してね、というコマンドである。

> sudo <管理者として実行したい命令> <命令に必要な引数>
> sudo shutdown -h now (管理者として、shutdown 命令を実行)
> sudo reboot (管理者として、reboot 命令を実行)

*Ref:Linux教科書 pp.160, pp.26*

**Linux (UNIX) は CLI (Command Line Interface) で使うのが基本**

タッチタイピング (キーボードを見ないで打つ) をマスターしないと Linux と仲良くなれないぞ。

# Windows のリモートデスクトップから入る

前回、リモートデスクトップからログインできるように設定した。
もしうまくいかない場合には、ネットワークにつながっているかどうか、Raspberry Pi につけた名前が正しいかどうか、確認すること。

# レトロなゲームたち

いまのスマホとは違う、味わいのあるゲームたちを紹介する。

> sudo apt-get install bsdgames

## hangman

英単語を当てる。当てられないと絞首刑。

## tetris-bsd

言わずとしれたテトリス。j で←、k で回転、l で ⇢、<space> で落下。

## gomoku

五目並べ。「さんさん」は禁じ手ではない。コンピュータが相手をしてくれる。
AI の原点はここにあった。

## rain

雨が降るアニメーションをするだけ。

## worm

数字を食べると、それだけ体が伸びる。自分のからだに噛みつたり周囲の壁にぶつかるとゲームオーバー。これも移動には H,J,K,L を使う。

# Raspberry Pi の GPIO を制御する

GPIO とは "General-purpose input/output" の略で、コンピュータボード上に設けられたピンで、デジタル信号の入出力を行える機能を提供します。いわば、外部機器とのやり取りを可能にするインターフェースのようなものである。

具体的には、以下の通り:

* **センサーからの信号入力:** 温度センサーや湿度センサーなどの信号を読み込み、マイコンプログラムで処理できる
* **モーターやLEDなどの制御:** モーターを回転させたり、LEDを点灯/消灯したりといった操作をプログラムで行うができる
* **ボタンやスイッチからの入力:** ボタンを押したり、スイッチを切り替えたりした際に、そのイベントをプログラムで検知できる。

このように、GPIOを活用することで、様々な電子機器をマイコンで制御し、オリジナルの電子工作やロボット製作などが可能である。

### GPIOの利点

* **汎用性:** 入力と出力が両方可能なので、幅広い用途に利用できる
* **拡張性:** ブレッドボードやジャンパケーブルなどを用いることで、簡単に外部機器と接続できる
* **プログラミング:** プログラミングによって、GPIOの動作を自由に制御できる
* **低価格:** 比較的安価な部品なので、気軽に試してみる事ができる

### GPIOの注意点

* **電圧レベル:** 使用する機器の電圧レベルと互換性があることを確認する必要がある
* **電流:** 使用する機器の消費電流が、GPIOの許容電流を超えていないことを確認する必要がある
* **プログラミング:** 制御したい動作をプログラムする必要がある

# WiringPi

Raspberry Pi の GPIO を、プログラムから制御するには *WiringPi* というパッケージにある命令 (の集まり) を利用する。
WiringPi をインストールする。gpio という命令が動作すれば成功である。

(いまはそれぞれ何をしているかは説明しません笑　興味がある人は聞いて下さい。お答えします。)

```
git clone https://github.com/WiringPi/WiringPi.git
cd WiringPi
./build
gpio readall                              # gpio という命令を動かしてみる
```

さぁ、これで準備が整った。
